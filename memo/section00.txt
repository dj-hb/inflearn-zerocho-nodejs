1. 노드 강좌 소개

2. 노드의 정의

  * 자바스크립트 런타임

  * 내부 구조
    - V8 엔진 : 오픈소스 자바스크립트 엔진 - 속도 개선
    - libuv(립유브이) : 이벤트 기반, 논블로킹 I/O 모델을 구현한 라이브러리
      - 자바스크립트의 인기 요인 : 싱글스레드 + 비동기
        다른 언어(예를 들면 자바)는 프로그래밍 난이도가 높아서, 원하는 성능을 제대로 내지 못하는 경우 발생
        (멀티스레딩 다루는 것 때문)
        nodejs ... 비교적 쉽게 비동기 프로그래밍을 할 수 있음

3. 노드의 특성

  * 이벤트 기반? 노드의 특징이라기보다는, 대부분의 프로그램의 동작 원리
    - 이벤트 리스너에 콜백 함수 등록
    - 이벤트 발생
    - 등록된 콜백 함수 호출

  * 논블로킹 I/O

    - 동기/비동기 (Synchronous / Asynchronous) : 요청한 작업에 대한 완료 여부에 따른 순차적/비순차적 진행 방식
    - 블로킹/논블로킹 : 현재 작업의 block(차단 or 대기) 가능성에 따른 구분

    - 논블로킹 : 오래 걸리는 함수를 백그라운드로 보내서 병렬 실행하는 것으로 하고, 다음 코드 실행 시작
      (병렬 실행이라고 하긴 하지만 엄밀히 말하면 '동시에' 실행되는 건 아니다. 자바스크립트에서 무언가를 '동시에'하는 건 거의 없다. 있긴 있음)

    - 자바스크립트에는 두 가지 경우만 있다고 보면 됨
      '동기+블로킹' 또는 '비동기+논블로킹'

  * 싱글 스레드
    
    - 프로세스 : 운영체제에서 할당하는 작업의 단위. 프로세스 간 자원 공유 X
    - 스레드 : 프로세스 내에서 실행되는 작업의 단위. 부모 프로세스 자원 공유 O

    - (아닌 경우도 있긴 하지만) 기본적으로 프로그램 하나 띄우면 프로세스도 하나 돌아간다.
    - 노드js는 실제로는 멀티스레드다?!
      하지만 여러 개의 스레드 중에 하나만 다룰 수 있다 (컨트롤 할 수 있다) --> 그래서 싱글스레드라고 표현
    - 14버전부터 멀티스레드 사용 가능
      왜 처음부터 안 썼지? --> 멀티스레드의 단점 ... 코딩이 어렵다!
    - 컨트롤 하고 있지 않은 스레드는?
      동시에 여러 작업을 하게 되는 경우를 대비해서 대기하게 된다 (논블로킹...!)

    - 싱글 스레드
      - 스레드 하나는 CPU에 코어 하나를 잡아먹는다
      - 주어진 일을 하나밖에 처리하지 못함
      - 블로킹이 발생하는 경우 나머지 작업은 모두 대기해야 함 ... 비효율적인 구조일 수 있다
      - 프로그래밍 난이도 쉽다
      - CPU, 메모리 자원 적게 사용
    
    - 멀티 스레드
      - 에러 발생 시 새로운 스레드 생성하여 극복
      - 새로운 스레드 생성 및 미사용 스레드 처리에 비용 발생
      - 프로그래밍 난이도 어려움
      - 스레드 수 만큼 자원을 많이 사용
    

4. 서버로서의 노드

  * 노드 서버의 장단점 (노드의 특징과 연관)

    - 장점 : 멀티스레드 방식에 비해 컴퓨터 자원을 적게 사용
      단점 : 싱글스레드라서 CPU 코어를 하나만 사용함

    - 장점 : I/O 작업이 많은 서버로 적합
      단점 : CPU 작업이 많은 서버로는 부적합

    - 장점 : 멀티스레드 방식보다 쉬움 
      단점 : 하나뿐인 스레드가 멈추지 않도록 관리해야 함

    - 장점 : 웹 서버 기능이 내장되어 있음
      단점 : 서버 규모가 커졌을 때 서버 관리하기 어려움 (노드만의 단점은 아님)

    - 자바스크립트 사용 but 어중간한 성능
      이미지 리사이징, 암호화 이런 작업들은 적합하지 않다.

    - JSON 형식과 호환 쉬움

    - 자바스크립트의 단점을 커버해줄 수 있는 별도 서비스를 사용
      예를 들면 AWS Lambda 에 Rust 를 올린다든지

    - 언어의 특징을 전부 다 활용했을 때...! 언어의 한계가 다가온다


5. 노드, VS Code 설치하기


6. Q&A

  * 중요

    - 이벤트 루프

    - 실행 컨텍스트

    - 프로토타입